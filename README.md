# Back-End-Trip-Split
# Building an API using a Relational Database

## Topics
- Databases
- Relational Databases
- Knex migrations
- Seeding data
- Creating endpoints
- Testing

#### Database Schemas

The _Database Schemas_ for the `users`, `trips`, `participants`, `events`, and `event participants` resources are:

## Users

Endpoint `/api/users/`
- `.get` returns an array of users who are registered in the database

| field                   | data type        | metadata                                            |
| ----------------------- | ---------------- | --------------------------------------------------- |
| id                      | unsigned integer | primary key, auto-increments, generated by database |
| username                | string           | required, unique                                    |
| password                | string           | required                                            |
| email                   | string           | required, unique                                    |
| thumbnail               | string           | not required                                        |

## Trips

Endpoints:
- `.get` to `/api/trips/` returns an array of all trips from all users in the database
- `.get` to `/api/trips/:id` returns an array of all trips from all users in the database
- `.post` to `/api/trips/` initializes a new trip
- `.delete` to `/api/trips/:id` deletes an entire trip by trip id 
- `.put` to `/api/trips/:id` lets you edit a trip by trip id with the edits in the req.body 

- `.get` to `/api/usertrips/:user_id` returns an array of all trips for each `user_id`

| field                   | data type        | metadata                                            |
| ----------------------- | ---------------- | --------------------------------------------------- |
| id                      | unsigned integer | auto-increments, generated by database              |
| user_id                 | integer          | foreign key, required, unique                       |
| date                    | string           | required                                            |
| location                | string           | required                                            |
| image                   | string           | not required                                        |
| isCurrent               | boolean          | required                                            |

## Trip Participants

Endpoints:
- `.get` to `/api/trip-participants/` returns an array of all participants from all trips in the database
- `.get` to `/api/usertrips/participants/:id` returns an array of all participants for the trip specified by `/:id`
- `.post` to `/api/usertrips/add-participant` initializes a new participant
- `.delete` to `/api/usertrips/delete-participant/:id` deletes a participant by `/:id` 
- `.put` to `/api/usertrips/edit-participant/:id` lets you edit a participant by participant `/:id` with the edits in the req.body 

| field                   | data type        | metadata                                            |
| ----------------------- | ---------------- | --------------------------------------------------- |
| id                      | unsigned integer | auto-increments, generated by database              |
| trips_id                | integer          | foreign key, required, unique                       |
| name                    | string           | required                                            |
| thumbnail               | string           | not required                                        |

